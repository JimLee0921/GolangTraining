# Go 指针总结

> [内存地址与指针笔记](../01_data-define/03_address-and-pointer.md)
>
> [内存地址与指针](../../../02_data-type/03_memory-address-and-pointer)
>
> [函数指针传递](../../../05_functions/07_passing-pointer)

## 1. 核心概念

* **指针 (pointer)**：存储变量的内存地址
* 通过指针，可以间接读取或修改变量的值
* `nil` 表示空指针，使用前要判空

---

## 2. 语法要点

* **取地址**：`&x` -> 获取变量 `x` 的地址
* **解引用**：`*p` -> 获取或修改指针 `p` 指向的值
* **声明指针**：`var p *int` -> `p` 是一个指向 `int` 的指针
* **new**：`p := new(int)` -> 分配内存，返回 `*int`，默认零值
* **make**：用于 slice / map / channel，不适用于普通指针

---

## 3. 使用场景

* **函数参数传递**：避免大对象复制，或允许函数内部修改调用方数据
* **数据结构**：链表、树、图等节点之间的引用
* **接口实现**：方法接收者用指针时，可修改结构体字段

---

## 4. 常见陷阱

* **悬垂指针**：引用已失效的变量（在 Go 里相对少见，但要注意闭包或切片共享底层数组的情况）
* **nil 指针**：调用前必须判空，否则会 panic
* **值接收者 vs 指针接收者**：结构体方法要修改字段时必须用指针接收者

---

## 5. 小结

* `&` -> 取地址
* `*` -> 解引用
* `new` 分配空间返回指针；`make` 只用于 slice/map/chan
* 值类型默认拷贝，需要指针才能共享或修改；引用类型本身已经包含指针语义

