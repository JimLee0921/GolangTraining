# Go 数据类型总览

## 系统概述

Go 是一种 **静态强类型（statically typed）** 语言。
这意味着：

* 每个变量在编译时就必须有确定的类型
* 编译器会在编译期检查类型是否匹配
* 类型转换需要显式进行（不会自动隐式转换）

## 类型的顶层分类

Go 的类型大体分为两大类：

| 类别                        | 子类                           | 说明                |
|---------------------------|------------------------------|-------------------|
| **值类型（Value Types）**      | 基本类型、数组、结构体                  | 拷贝赋值时复制整个值（独立副本）  |
| **引用类型（Reference Types）** | 切片、映射（map）、通道（channel）、指针、函数 | 拷贝赋值时复制引用（共享底层数据） |

## 基本类型（Primitive Types）

Go 的基本类型可分为以下几类：

### 整数类型

* 有符号：`int8`, `int16`, `int32`, `int64`, `int`
* 无符号：`uint8`, `uint16`, `uint32`, `uint64`, `uint`

> `int` 和 `uint` 的长度取决于系统架构（32 位或 64 位）

### 浮点数类型

* `float32`
* `float64`（默认）

### 复数类型

* `complex64`（实部、虚部都是 float32）
* `complex128`（实部、虚部都是 float64）

### 布尔类型

* `bool`（只能是 `true` 或 `false`）

### 字符类型

* `byte` → `uint8` 的别名，用于原始字节
* `rune` → `int32` 的别名，用于 Unicode 字符

### 字符串类型

* `string` 是只读的字节序列，支持 UTF-8 编码。

---

## 复合类型（Composite Types）

### 数组（Array）

* 固定长度；
* 存放同类型元素；
* 值类型，赋值会拷贝整个数组。

### 切片（Slice）

* 动态长度；
* 引用类型；
* 底层依赖数组，通过引用共享内存。

### 映射（Map）

* 键值对集合；
* 无序；
* 引用类型。

### 结构体（Struct）

* 自定义复合数据类型；
* 聚合不同字段；
* 可嵌套形成复杂对象。

## 特殊类型

### 指针（Pointer）

* 保存变量的内存地址；
* 可直接操作底层数据；
* 不支持指针运算（与 C 不同）。

### 函数类型（Function Type）

* 函数本身也是一等公民；
* 可作为变量、参数或返回值；
* 支持匿名函数与闭包。

### 接口类型（Interface）

* 一组方法定义；
* 实现接口无需显式声明；
* 是 Go 的**多态核心机制**。

### 通道类型（Channel）

* 用于协程（goroutine）之间通信；
* 是 Go 并发模型（CSP）的基础；
* 可以同步或异步传输数据。

## 类型关键字与机制

| 关键字     | 作用                         |
|---------|----------------------------|
| `type`  | 定义新类型或类型别名                 |
| `var`   | 声明变量                       |
| `const` | 声明常量                       |
| `iota`  | 常量生成器                      |
| `new`   | 分配零值指针                     |
| `make`  | 初始化引用类型（slice、map、channel） |

## 类型转换与推断

### 显式类型转换

```go
var x int = 10
var y float64 = float64(x)
```

### 类型推断

```go
x := 10      // 自动推断为 int
y := "hello" // 自动推断为 string
```

## 零值（Zero Value）

所有变量在声明但未显式初始化时，会自动获得该类型的零值

| 类型类别 | 零值示例     |
|------|----------|
| 数值类型 | `0`      |
| 字符串  | `""`     |
| 布尔值  | `false`  |
| 引用类型 | `nil`    |
| 结构体  | 各字段的零值组合 |

## 类型相关的内置函数

| 函数         | 作用                                   |
|------------|--------------------------------------|
| `len()`    | 获取长度（string、array、slice、map、channel） |
| `cap()`    | 获取容量（array、slice、channel）            |
| `new()`    | 返回指针（分配零值）                           |
| `make()`   | 返回初始化好的引用类型                          |
| `append()` | 追加元素到 slice                          |
| `copy()`   | 复制 slice 内容                          |
| `delete()` | 删除 map 中的键                           |

## 类型安全与编译期检查

Go 的类型系统强调：

* **显式性**：必须明确类型
* **兼容性**：仅当类型匹配时可赋值
* **接口实现的隐式匹配**：只要结构体实现了接口的所有方法，即可视为该接口类型

> channel 管道在并发 concurrency 章节进行讲解