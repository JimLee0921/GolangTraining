# 浮点类型（Floating Point Types）

## 概述

浮点类型用于表示**带小数部分的实数**。
Go 的浮点类型遵循 **IEEE 754** 标准，可表达非常大或非常小的连续数值。
它们常用于科学计算、统计分析、坐标与比例运算等场景。

---

## 类型与精度

| 类型        | 位宽   | 精度              | 默认类型 |
|-----------|------|-----------------|------|
| `float32` | 32 位 | 单精度（约 7 位有效数字）  | 否    |
| `float64` | 64 位 | 双精度（约 15 位有效数字） | 是    |

* `float64` 是 Go 的默认浮点类型
* `float32` 可节省内存，但精度较低
* 浮点类型占用固定内存空间，与平台无关

---

## 主要特性

* 支持 `+`, `-`, `*`, `/` 运算
* 不支持取余 `%`
* `/` 始终执行浮点除法
* 结果存在舍入误差（binary floating-point rounding）

---

## 精度与误差

浮点数在二进制中无法精确表示大多数小数，例如：

* `0.1 + 0.2` 并不严格等于 `0.3`
* 比较浮点数时应采用“近似相等”判断

**误差比较方式：**

* 定义容差（epsilon），判断差值是否足够小
* 避免直接使用 `==` 比较

---

## 特殊值（IEEE 754）

| 值      | 含义                | 来源示例         |
|--------|-------------------|--------------|
| `+Inf` | 正无穷大              | `1.0 / 0.0`  |
| `-Inf` | 负无穷大              | `-1.0 / 0.0` |
| `NaN`  | 非数值（Not a Number） | `0.0 / 0.0`  |

**检测函数（来自 `math` 包）**

* `math.IsInf(x, sign)`：检查是否为正或负无穷
* `math.IsNaN(x)`：判断是否为 NaN

---

## 科学计数法

浮点数可用 **科学计数法** 表示：

* `1.2e3` → 1.2 × 10³ = 1200
* `4.5e-2` → 4.5 × 10⁻² = 0.045

此形式可用于表达极大或极小的数值

---

## 标准库支持

Go 的 `math` 包提供丰富的浮点数函数：

| 分类   | 函数示例                                    | 说明        |
|------|-----------------------------------------|-----------|
| 基本运算 | `math.Abs`, `math.Sqrt`, `math.Pow`     | 绝对值、平方根、幂 |
| 四舍五入 | `math.Round`, `math.Ceil`, `math.Floor` | 向上/下取整    |
| 取模   | `math.Mod(x, y)`                        | 浮点版取余     |
| 三角函数 | `math.Sin`, `math.Cos`, `math.Tan`      | 支持弧度制     |

> 函数参数与返回值均为 `float64`
> 若使用 `float32`，可通过显式类型转换

---

## 格式化与输出

常用 `fmt.Printf` 占位符：

| 占位符    | 输出格式             | 示例             |
|--------|------------------|----------------|
| `%f`   | 固定小数格式           | `3.140000`     |
| `%.2f` | 保留两位小数           | `3.14`         |
| `%e`   | 科学计数法            | `3.141593e+00` |
| `%g`   | 自动选择 `%f` 或 `%e` | `3.14159`      |

---

## 零值与默认初始化

| 类型        | 零值    |
|-----------|-------|
| `float32` | `0.0` |
| `float64` | `0.0` |

---

## 小结

| 特性   | 描述                   |
|------|----------------------|
| 类型   | `float32`、`float64`  |
| 默认类型 | `float64`            |
| 支持运算 | `+`, `-`, `*`, `/`   |
| 特殊值  | `Inf`, `-Inf`, `NaN` |
| 比较方式 | 容差判断而非 `==`          |
| 常用包  | `math`               |
| 零值   | `0.0`                |


