# 复数类型（Complex Numbers）

## 概述

复数是数学上形如： `a + bi` 的数，其中：

* `a` 是实部（real part）
* `b` 是虚部（imaginary part）
* `i` 表示虚数单位（(i^2 = -1)）

Go 语言原生支持复数运算，是少数拥有此特性的现代语言之一。

---

## 类型与组成

| 类型           | 实部与虚部类型               | 默认类型 |
|--------------|-----------------------|------|
| `complex64`  | `float32` + `float32` | 否    |
| `complex128` | `float64` + `float64` | 是    |

**说明：**

* 默认使用 `complex128`
* 复数类型可在 CPU 层面直接计算
* 精度由组成的浮点数类型决定

---

## 创建方式

1. **字面量形式**：
   直接写 `a + bi`，如 `1 + 2i`

2. **函数形式**：
   使用 `complex(real, imag)` 构造：

   ```go
   complex(3, 4) // 等价于 3 + 4i
   ```

3. **显式类型声明**：
   可用 `complex64` 或 `complex128` 指定精度

---

## 访问实部与虚部

Go 提供两个内置函数：

* `real(z)`：提取实部
* `imag(z)`：提取虚部

二者均返回浮点数（类型与复数一致）

---

## 基本运算

复数类型支持：

* 加法 `+`
* 减法 `-`
* 乘法 `*`
* 除法 `/`

运算规则遵循数学定义，例如：`(2 + 3i) × (1 + 4i) = -10 + 11i`

Go 在内部自动处理共轭除法。

---

## 标准库 `math/cmplx`

`math/cmplx` 包为复数提供高级数学函数：

| 函数                              | 含义                           |
|---------------------------------|------------------------------|
| `cmplx.Abs(z)`                  | 模（magnitude）= √(a² + b²)     |
| `cmplx.Phase(z)`                | 相角（phase angle）= atan2(b, a) |
| `cmplx.Conj(z)`                 | 共轭复数 = a - bi                |
| `cmplx.Exp(z)`                  | e^z（指数形式）                    |
| `cmplx.Log(z)`                  | 自然对数 ln(z)                   |
| `cmplx.Pow(x, y)`               | 幂运算 xʸ                       |
| `cmplx.Sqrt(z)`                 | 平方根 √z                       |
| `cmplx.Sin(z)` / `cmplx.Cos(z)` | 三角函数（复数域）                    |

---

## 比较与零值

| 操作         | 支持性      | 说明          |
|------------|----------|-------------|
| `==`, `!=` | 支持       | 实部与虚部均相等时为真 |
| `<`, `>`   | 不支持      | 不支持顺序比较     |
| 零值         | `(0+0i)` | 声明未初始化即为零复数 |

---

## 格式化与显示

* `%v`：以 `(a+bi)` 格式输出
* `%f`：输出单独实部或虚部
* `%T`：查看类型（`complex64` / `complex128`）
