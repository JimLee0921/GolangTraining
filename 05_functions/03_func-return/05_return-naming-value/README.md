## 命名返回值

命名返回值（Named Return Values）是 Go 语言函数设计中一个语法糖，
它让函数的返回值在函数体内部有名字、可以被直接操作、可以隐式返回，
可以讲返回值自动声明为局部变量，可以直接为它们赋值，返回值变量在函数体中可直接使用，
不需要 var 声明，Go 会自动生成。

### 基础语法

```text
func 函数名(参数) (返回名1 类型1, 返回名2 类型2) {
    // 在函数体内可以直接使用返回名1、返回名2
    return // 不写任何变量，自动返回
}
```

### 示例

```go
func add(a, b int) int {
return a + b
}
```

这里返回值类型是 int，但没有名字，可以给它一个名字，比如 sum：

```go
func add(a, b int) (sum int) {
sum = a + b
return
}
```

> sum 是一个命名返回值，它在函数体内自动声明并可直接使用

### 特点

1. 自动声明，无需再次定义，等价于 `var sum int`，所以可以直接赋值
2. 可以直接使用 return（隐式返回），当函数定义了命名返回值后，可以使用空的 return ，Go 编译器会自动返回当前命名返回变量的值
3. 可用于多个返回值，命名返回值的版本更方便维护，尤其适合在函数结尾前需要清理、日志或 defer 里修改返回值的情况
4. 即使函数定义了命名返回值，仍然可以显式返回值

> https://www.ardanlabs.com/blog/2013/10/functions-and-naked-returns-in-go.html

### 注意事项

- 可读性提升，但要注意滥用
- 在函数逻辑比较长的时候，命名返回值能让 return 简洁一些
- 但如果函数太复杂，不建议使用，可读性会降低