## 函数参数

### params vs args

| 概念 | 英文             | 定义            | 举例                                  |
|----|----------------|---------------|-------------------------------------|
| 参数 | **parameters** | 定义函数时的“形参”    | `func add(a int, b int)` 中的 `a`、`b` |
| 实参 | **arguments**  | 调用函数时传入的“实际值” | `add(3, 5)` 中的 `3`、`5`              |

> params 是函数定义的接口，args 是函数调用的输入

### 基础分类

| 类型                   | 示例                                          | 说明             |
|----------------------|---------------------------------------------|----------------|
| 按顺序传参                | `add(1, 2)`                                 | 一一对应           |
| 命名参数（Named Return）   | `func f() (x int)`                          | 可直接在函数体内给返回值赋值 |
| 变参函数（Variadic）       | `func sum(nums ...int)`                     | 可接收任意数量参数      |
| 指针参数                 | `func swap(a, b *int)`                      | 可修改外部变量        |
| 函数作为参数               | `func apply(f func(int) int)`               | 高阶函数支持         |
| 泛型参数（Type Parameter） | `func Max[T constraints.Ordered](a, b T) T` | Go 1.18+ 泛型支持  |

---

### 参数传递机制（值 vs 引用）

Go **所有参数传递本质上都是值传递**，
只是有些类型（如切片、map、channel、指针）**内部包含引用**。

| 类型                    | 传递方式           | 是否可修改原值 | 示例                         |
|-----------------------|----------------|---------|----------------------------|
| 基本类型（int、string、bool） | 值复制            | 否       | `func f(x int)`            |
| 数组 `[N]T`             | 整个数组复制         | 否       | `func f(arr [3]int)`       |
| 切片 `[]T`              | header 复制，底层共享 | 是       | `func f(s []int)`          |
| map                   | 引用类型           | 是       | `func f(m map[string]int)` |
| channel               | 引用类型           | 是       | `func f(ch chan int)`      |
| 指针 `*T`               | 值为指针地址         | 是       | `func f(p *int)`           |

### 可变参数（Variadic Parameters）

Go 支持 可变参数（类似 Python 的 *args 或 Java 的 ...），可变参数底层实际由切片实现，
在 Go 里，如果函数的最后一个参数写成 ...T（三个点加类型），就表示这个参数可以接收 零个或多个该类型的值，
在函数体内部，这个参数会被当成一个 切片 ([]T) 来使用
注意事项：

- 在 Go 语言里，一个函数参数列表里只能有一个可变参数，并且必须放在最后
- Go 的可变参数语法是 ...T，这里的 T 必须是同一种类型，在调用时必须匹配参数类型
- 可变参数也可以什么都不传入（也就是个空切片）

### 指针参数

如果函数传值（参数是普通类型），函数里拿到的是一个拷贝，修改不会影响原来的变量，
如果函数传地址（参数是指针），函数里操作的就是原始数据，能直接修改外部变量

使用：

- param（形参）：写成 `*T`，例如 `*int`、`*string`，`*`（解引用运算符操作地址）
- arg（实参）：调用时传入 &变量，&(取地址符)

> 更详细讲解见 [passing-pointer](../09_passing-pointer)

### 函数作为参数 / 返回值

Go 的函数是一等公民（first-class citizen），可以：

* 赋值给变量
* 作为参数
* 作为返回值
* 用于闭包（捕获外部变量）

### 泛型参数

泛型参数（Generics）是 Go 1.18 引入的重要特性，可以写出类型安全、复用性强的代码，而不用为了不同类型重复写逻辑